{% extends "base.html" %}
{% block content %}

    <h1>{{ title }} </h1>
     
 <h1> Module: {{ module.name }}</h1>
 <div id="table" class="table-editable">
    <form method="post" action="{{ url_for('frontend.submit', mod=module.name ) }}">
                    {{ form.csrf_token }}
    <table class="table table-bordered">
    <thead>
    <tr>
    <th> index  </td>
    <th>Name</th>
    <th>Value</th>
    <th>Units</th>
    <th>Min</th>
    <th>Max</th>
    <th>Notes</th>
    </tr>
    </thead>
    <tbody>
    {% for register in registers %}
    <tr>
        <td> {{ loop.index }} </td>
        <td>{{ register.name }} </td>
        <td >
        {% if register.data_type == "zzzzbool" %}
            {% if register.read_only %}
                {{ register.value}}
            {% else %}
             
                {% if register.value == "0" %}
                    <input type="checkbox" name={{register.path}}  value="{{ register.value }}"  > 
                {% else %}
                    <input type="checkbox" name={{register.path}}  value="{{ register.value }}" checked > 
                {% endif %}   
            {% endif %}
        {% else %}
            {% if register.read_only %}
                {{ register.value}}
            {% else %}
                <input name="{{register.path}}" type="number" value="{{ register.value }}" min="{{ register.min }}" max="{{ register.max }}" step= "{{ register.step }}" > 
            {% endif %}
        {% endif %}
        </td>
        <td>{{ register.units}} </td>
        <td>{{ register.min}} </td>
        <td>{{ register.max}} </td>
        <td>{{ register.notes}}  {{register.read_only}}</td>
    </tr>


    {% endfor %}
    </tbody>
    </table> 
    <input type="submit" value="submit" />
       <form method="get" action="{{ url_for('frontend.module', mod=module.name ) }}">
    <input type="submit" value="Refresh" />
</form>
    </form>   
   
    </div> 

{% endblock %}


